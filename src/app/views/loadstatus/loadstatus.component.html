<div class="animated fadeIn">
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-header">
          <span class="float-right">
            <button type="add" class="btn btn-sm btn-success" (click)="createLoad()"><i class="fa fa-plus"></i> Create
              Load</button>
          </span>
        </div>
        <div class="card-body">
          <div class="animated fadeIn">
          </div>
          <div style="margin: 1rem 0">
            <button type="add" class="btn btn-sm btn-success" (click)="Goback()"><i class="fa fa-chevron-left"
                aria-hidden="true"></i> Back</button>
          </div>
          <div class="container detail-box animated fadeIn">
            <div class="row">
              <div class="col pad-hor" (click) = "filterLoad('loads')">
                <div class="main load">
                  Loads
                </div>
              </div>
              <div class="col pad-hor m-width">
                <div class="arrow load">
                  <i class="fa fa-arrows-v" aria-hidden="true"></i>
                </div>
              </div>
              <div class="col pad-hor status cancelled" (click) = "filterLoad('Cancelled', 'loads')">
                <div>
                  <div>Cancelled</div>
                  <div>{{statusCounts['load-Cancelled'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status tonu" (click) = "filterLoad('TONU', 'loads')">
                <div>
                  <div>TONU</div>
                  <div>{{statusCounts['load-TONU'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status completed" (click) = "filterLoad('Completed', 'loads')">
                <div>
                  <div>Completed</div>
                  <div>{{statusCounts['load-Completed'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status invoiced" (click) = "filterLoad('Invoiced', 'loads')">
                <div>
                  <div>Invoiced</div>
                  <div>{{statusCounts['load-Invoiced'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status factored" (click) = "filterLoad('Factored', 'loads')">
                <div>
                  <div>Factored</div>
                  <div>{{statusCounts['load-Factored'] || 0}}</div>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col pad-hor" (click) = "filterLoad('pickups')">
                <div class="main pick">
                  Pick-ups
                </div>
              </div>
              <div class="col pad-hor m-width">
                <div class="arrow pick">
                  <i class="fa fa-arrow-left" aria-hidden="true"></i>
                </div>
              </div>
              <div class="col pad-hor status booked" (click) = "filterLoad('Booked', 'pickup')">
                <div>
                  <div>Booked</div>
                  <div>{{statusCounts['pickup-Booked'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status arr-delay" (click) = "filterLoad('Arrival Delay', 'pickup')">
                <div>
                  <div>Arrival - Delay</div>
                  <div>{{statusCounts['pickup-ArrivalDelay'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status arr-ontime" (click) = "filterLoad('Arrival Ontime', 'pickup')">
                <div>
                  <div>Arrival - Ontime</div>
                  <div>{{statusCounts['pickup-ArrivalOntime'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status pickup-delay" (click) = "filterLoad('Pickup Delay', 'pickup')">
                  <div>
                    <div>Pickup - Delay</div>
                    <div>{{statusCounts['pickup-PickupDelay'] || 0}}</div>
                  </div>
              </div>
              <div class="col pad-hor status pickup-ontime" (click) = "filterLoad('Pickup Ontime', 'pickup')">
                  <div>
                    <div>Pickup - Ontime</div>
                    <div>{{statusCounts['pickup-PickupOntime'] || 0}}</div>
                  </div>
              </div>
            </div>
            <div class="row">
              <div class="col pad-hor" (click) = "filterLoad('dropoffs')">
                <div class="main delivery">
                  Drop-offs
                </div>
              </div>
              <div class="col pad-hor m-width">
                <div class="arrow delivery ">
                  <i class="fa fa-arrow-right" aria-hidden="true"></i>
                </div>
              </div>
              <div class="col pad-hor status intransit" (click) = "filterLoad('InTransit', 'dropoff')">
                <div>
                  <div>In-transit</div>
                  <div>{{statusCounts['dropoff-InTransit'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status arr-delay" (click) = "filterLoad('Arrival Delay', 'dropoff')">
                <div>
                  <div>Arrival - Delay</div>
                  <div>{{statusCounts['dropoff-ArrivalDelay'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status arr-ontime" (click) = "filterLoad('Arrival Ontime', 'dropoff')">
                <div>
                  <div>Arrival - Ontime</div>
                  <div>{{statusCounts['dropoff-ArrivalOntime'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status delivery-delay" (click) = "filterLoad('Delivery Delay', 'dropoff')">
                <div>
                  <div>Delivery - Delay</div>
                  <div>{{statusCounts['dropoff-DeliveryDelay'] || 0}}</div>
                </div>
              </div>
              <div class="col pad-hor status delivery-ontime" (click) = "filterLoad('DeliveryOntime', 'dropoff')">
                <div>
                  <div>Delivery - Ontime</div>
                  <div>{{statusCounts['dropoff-DeliveryOntime'] || 0}}</div>
                </div>
              </div>
            </div>
          </div>
          <!-- <table class="table table-responsive-sm table-hover table-bordered">
            <thead>
              <tr>
                <th style="background-color: rgb(60, 231, 146); text-align: center;">Booked</th>
                <th style="background-color: rgb(60, 231, 146); text-align: center;">Pickup-Ontime</th>
                <th style="background-color: yellow; text-align: center;">Pickup-Delay</th>
                <th style="background-color: rgb(60, 231, 146); text-align: center;">Loaded-Ontime</th>
                <th style="background-color: yellow; text-align: center;">Loaded-Delay</th>
                <th style="background-color: rgb(60, 231, 146); text-align: center;">Delivery-Ontime</th>
                <th style="background-color: red; text-align: center;">Delivery-Delay</th>
                <th style="background-color: rgb(60, 231, 146); text-align: center;">Completed</th>
                <th style="background-color: rgb(160, 77, 44); text-align: center;">Cancelled</th>
                <th style="background-color: rgb(104, 187, 235); text-align: center;">TONU</th>
                <th style="background-color: rgb(60, 231, 146); text-align: center;">Invoice</th>
              </tr>
            </thead>
    
                <tbody>
                  <tr>
                    <tr>
                        <td>3</td>
                        <td>2</td>
                        <td>1</td>
                        <td>2</td>
                        <td>2</td>
                        <td>3</td>
                        <td>2</td>
                        <td>2</td>
                        <td>1</td>
                        <td>0</td>
                        <td>5</td>
                        
                    </tr>
                </tbody>
              </table> -->
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <div class="card">

        <div class="card-body">
          <div class="animated fadeIn">
          </div>
          <table class="table table-responsive table-hover table-bordered">
            <thead>
              <tr>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Load Number</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Customer</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Customer Load</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Contact Phone</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Contact Email</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Dispatcher</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Driver</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Driver Phone Number</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Truck</th>
                <!-- <th style="background-color: rgb(178, 178, 224); text-align: center;">Pickup Load Status</th> -->
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Pick-up Location</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Drop-off Location</th>
                <!-- <th style="background-color: rgb(178, 178, 224); text-align: center;">Dropoff Load Status</th> -->
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Load Status</th>

                <th style="background-color: rgb(178, 178, 224); text-align: center;">Comments</th>
                <th style="background-color: rgb(178, 178, 224); text-align: center;">Edit</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let load of loadDetails | statusFilter:activeFilter">
                <td style="color: red; font-weight: 700">{{load.load_number}}</td>
                <td>{{load.customer_name}}</td>
                <td>{{load.crefno}}</td>
                <td>{{load.phone}}</td>
                <td>{{load.email}}</td>
                <td>{{load.dispatcher}}</td>
                <td>
                  <span *ngIf="load.pickupinfo!= undefined">Driver1:{{load.pickupinfo.Driver1}},</span>
                  <span *ngIf="load.pickupinfo!= undefined">Driver2:{{load.pickupinfo.Driver2}}</span>
                </td>
                <td>
                  <span *ngIf="load.pickupinfo!= undefined">{{load.pickupinfo.ContactNumber}}</span>
                </td>
                <td><span *ngIf="load.pickupinfo!= undefined">{{load.pickupinfo.Truck}}</span></td>
                <!-- <td style="color: red; font-weight: 700">
                  <span *ngIf="load.pickupinfo!= undefined">{{load.pickupinfo.LoadStatus}}</span>
                </td> -->
                <td>
                  <span *ngIf="load.pickupinfo!= undefined">{{load.pickupinfo.PickupCompany}},</span>
                  <span *ngIf="load.pickupinfo!= undefined">{{load.pickupinfo.Address}}</span>
                </td>
                <td>
                  <span *ngIf="load.dropoffinfo!= undefined">{{load.dropoffinfo.dropCompany}},</span>
                  <span *ngIf="load.dropoffinfo!= undefined">{{load.dropoffinfo.dropAddress}}</span>
                </td>
                <!-- <td style="color: red; font-weight: 700">
                  <span *ngIf="load.dropoffinfo!= undefined">{{load.dropoffinfo.LoadStatus}}</span>
                </td> -->
                <td style="color: red; font-weight: 700" >{{(load.lastUpdated || {}).status || ''}}</td>
                <td>{{load.comments}}</td>
                <td><i class="fa fa-pencil" aria-hidden="true"></i></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>